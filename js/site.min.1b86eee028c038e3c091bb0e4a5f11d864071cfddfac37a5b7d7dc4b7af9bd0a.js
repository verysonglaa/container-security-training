window.addEventListener("load",()=>{const n="replaceContentPlaceholders",c="_",s=document.querySelector("main"),r=[{defaultValue:"$USER",placeholder:"<namespace>",queryParam:"n"},{defaultValue:"training.songlaa.com",placeholder:"<appdomain>",queryParam:"a"}],o=null,i=o&&new RegExp(`^https?://([-a-z0-9]+\\.)*(${o.map(e=>e.replace(".","\\.")).join("|")})(:[0-9]+)?$|^[-a-zA-Z0-9()@:%_+.~#?&/=]+$`),t=u(),e=r.map(({placeholder:e,defaultValue:t,queryParam:n,href:s})=>({placeholder:e,value:a(e,t,n,s),defaultValue:t,href:s}));m(e,s),p(e,s),h(e);function a(e,n,s,o){let i=d(s);if(!i||i!==c){if(i&&l(i,o))return i;if(t[e])return t[e]}return n}function l(e,t){if(t){const t=i&&i.test(e);return t||console.warn("Invalid href replacement value:",e),t}return!0}function d(e){const t=window.location.search.substring(1).split("&");for(let n of t){const[s,o]=n.split("=");if(s===e)return o||null}return null}function u(){const e=localStorage.getItem(n);return e?JSON.parse(e):{}}function h(e){const t=e.reduce((e,{placeholder:t,value:n,defaultValue:s})=>({...e,[t]:n!==s?n:void 0}),{});localStorage.setItem(n,JSON.stringify(t))}function m(e,t){[t,...t.querySelectorAll("*:not(script):not(noscript):not(style)")].forEach(t=>t.childNodes.forEach(t=>{t.nodeType===Node.TEXT_NODE&&f(t,e)}))}function f(e,t){e.textContent=t.reduce((e,{placeholder:t,value:n})=>e.replace(t,n),e.textContent)}function p(e,t){const n=e.filter(({href:e})=>e);if(n.length===0)return;t.querySelectorAll("[href]").forEach(e=>e.setAttribute("href",n.reduce((e,{placeholder:t,value:n})=>e.replace(t,n),e.getAttribute("href"))))}})